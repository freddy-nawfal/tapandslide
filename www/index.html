<!DOCTYPE html>
<html>
 
    <head>
        <meta charset="utf-8">
        <script src="js/phaser.js"></script>
        <link rel="stylesheet" href="css/main.css" type="text/css">
    </head>
 
    <body ng-app="main">
    	<div id="menu">
    		MAIN MENU

			<button onclick="play()">play</button>
    	</div>
    	<div id="msg"></div>
		<div id="game"></div>


		<script type="text/javascript" src="js/jquery.min.js"></script>
		<script type="text/javascript" src="js/socket.io.js"></script>
		<script src="cordova.js"></script>
		<script type="text/javascript" src="js/utilities.js"></script>
		<script src="js/game.js"></script>
    	<script type="text/javascript">
    		
    		document.addEventListener('deviceready', Startup, false);

    		var socket;

    		function Startup(){
				// INIT SOCKET
				socket = io.connect('http://164.132.194.73:8000');

				socket.on('level', function(data){
					getLevel(data);
				});

				socket.on("joinedRoom", function(data){
					console.log(data);
					$("#msg").html("Game found");

					if(game)game.destroy();

					launch();

					setTimeout(function(){
						$("#msg").html("");
						$("#game").slideToggle("slow");
					}, 1000);
				});
				$("#game").hide();
    		}

    		function play(){
    			$("#menu").hide();

    			socket.emit("search", "ranked");
    			$("#msg").html("Searching for an opponent...");
    		}

    		function mainMenu(){
    			$("#menu").show();
    			$("#game").hide();
    		}

    	</script>

        
    </body>
 
</html>